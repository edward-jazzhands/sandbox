<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Simple Firework</title>
    <style>
      body { background: #111; display: grid; place-items: center; height: 100vh; }
      button { padding: 1rem 2rem; font-size: 1.2rem; }
      canvas { position: fixed; top: 0; left: 0; pointer-events: none; }
    </style>
  </head>
  <body>
    <button onclick="firework(this)">Click me</button>
    <canvas id="c"></canvas>
    <script>
      const canvas = document.getElementById("c");
      const ctx = canvas.getContext("2d");
      function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      window.onresize = resize;
      resize();

      function firework(el) {
        const rect = el.getBoundingClientRect();
        const x = rect.left + rect.width / 2;
        const y = rect.top;

        const particles = [];
        for (let i = 0; i < 20; i++) {
          const angle = Math.random() * 2 * Math.PI;
          const speed = 2 + Math.random() * 3;
          particles.push({
            x, y,
            vx: Math.cos(angle) * speed,
            vy: Math.sin(angle) * speed,
            life: 60
          });
        }

        function animate() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          for (const p of particles) {
            p.x += p.vx;
            p.y += p.vy;
            p.vy += 0.05; // gravity
            p.life--;
            ctx.fillStyle = `hsl(${Math.random()*360},100%,60%)`;
            ctx.beginPath();
            ctx.arc(p.x, p.y, 3, 0, Math.PI * 2);
            ctx.fill();
          }
          if (particles.some(p => p.life > 0)) {
            requestAnimationFrame(animate);
          } else {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
          }
        }
        animate();
      }
    </script>
  </body>
</html>
