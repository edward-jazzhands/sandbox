<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DOM Firework (simple)</title>
<style>
  :root { --particle-size: 8px; --duration: 700ms; }

  html,body { height:100%; margin:0; display:grid; place-items:center; background:#121218; font-family:system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color:#fff; }

  button {
    padding:0.75rem 1.2rem;
    font-size:1rem;
    border-radius:10px;
    border:0;
    background:linear-gradient(#ffd, #ffb);
    color:#111;
    cursor:pointer;
    position:relative;
    z-index:1;
  }

  /* container that holds transient particles, sits full-screen so particles can go anywhere */
  .fw-container {
    position:fixed;
    inset:0;
    pointer-events:none; /* don't block clicks */
    z-index: 9999;
    overflow: visible;
  }

  /* particle basics */
  .fw {
    position:absolute;
    width:var(--particle-size);
    height:var(--particle-size);
    border-radius:50%;
    will-change: transform, opacity;
    transform-origin:center;
    opacity:1;
    mix-blend-mode: screen; /* makes colors pop on dark bg */
    animation:explode var(--duration) cubic-bezier(.2,.8,.2,1);
  }

  /* a little sparkle for variety */
  .fw::after{
    content:"";
    position:absolute;
    inset:0;
    border-radius:inherit;
    transform:scale(0.85);
    opacity:0.9;
  }

  /* explosion animation: translate outward + fade + slight scale */
  @keyframes explode {
    0% {
      transform: translate(0,0) scale(1);
      opacity:1;
      filter:blur(0px);
    }
    60% {
      opacity:0.95;
      filter:blur(0.15px);
    }
    100% {
      transform: translate(var(--tx), var(--ty)) scale(0.6);
      opacity:0;
      filter:blur(1px);
    }
  }

  /* Respect reduced motion: don't animate particles */
  @media (prefers-reduced-motion: reduce) {
    .fw { display:none; }
  }
</style>
</head>
<body>

  <div class="fw-container" id="fwc"></div>

  <button id="btn" type="button">Click me</button>

<script>
  // super-small helper: create a burst of DOM particles around a button.
  // call simpleFirework(buttonElement) or wire to onclick.
  function simpleFirework(el) {
    if (typeof window === 'undefined') return;
    if (matchMedia && matchMedia('(prefers-reduced-motion: reduce)').matches) return;

    const container = document.getElementById('fwc');
    const rect = el.getBoundingClientRect();
    const originX = rect.left + rect.width / 2;
    const originY = rect.top + rect.height / 2;

    const count = 16; // change this number to more/less particles
    for (let i = 0; i < count; i++) {
      const p = document.createElement('div');
      p.className = 'fw';

      // choose hue and size with tiny randomness
      const hue = Math.floor(Math.random() * 360);
      const size = 6 + Math.round(Math.random() * 8);
      p.style.width = p.style.height = size + 'px';
      p.style.background = `hsl(${hue} 100% 60% / 1)`;
      p.style.left = originX - size / 2 + 'px';
      p.style.top = originY - size / 2 + 'px';

      // random direction and distance
      const angle = Math.random() * Math.PI * 2;
      const distance = 40 + Math.random() * 80; // px
      const tx = Math.cos(angle) * distance + (Math.random() * 6 - 3);
      const ty = Math.sin(angle) * distance + (Math.random() * 6 - 3);

      // set custom properties used by the CSS keyframe
      p.style.setProperty('--tx', tx + 'px');
      p.style.setProperty('--ty', ty + 'px');

      // small rotation variance
      p.style.transform = `translate(0,0) rotate(${Math.random()*360}deg)`;

      // remove after animation ends
      p.addEventListener('animationend', () => {
        p.remove();
      }, { once: true });

      container.appendChild(p);
    }
  }

  // wire it up: simple onclick that calls the function with the button element
  const btn = document.getElementById('btn');
  btn.addEventListener('click', () => simpleFirework(btn));

  // optional: support keyboard activation (space/enter)
  btn.addEventListener('keydown', (e) => {
    if (e.key === ' ' || e.key === 'Enter') {
      e.preventDefault();
      simpleFirework(btn);
    }
  });
</script>

</body>
</html>
